---
title: 自動マーケットメイカー（AMM）
sidebar_position: 12
---

# 自動マーケットメイカー（AMM）

従来のオーダーブック取引と比較して、自動マーケットメーカーは、プロセスを自動化し、取引における人の介入を不要にします。MTGによる自動マーケットメーカーの開発は、イーサリアム基盤のユニスワップよりも効率的かつ高い安全性、安定性、耐障害性などを備えています。

### 優位性

- 分散化とセキュリティ

  ユーザーの資産は、Mixinメインネットによって保護され、コールドウォレットとホットウォレットの分離や最大255人のマルチシグネチャによる共同管理等によって十分に保護されています。自動マーケットメーカープログラムは、255台のノードサーバーに展開することが可能です。

- 安定性

  自動マーケットメーカープログラムは、Go、Java、PHPなどの完成度の高いプログラミング言語を使って開発することができ、ネットワークの混雑や高いガス代の問題もありません。また、取引プロセスにさらなる安定性とキャパシティをもたらします。

- 効率性

  自動マーケットメーカープログラムは、高性能なノードサーバー上に配置され、低遅延で効率的な取引所およびマーケットメーキングサービスをユーザーに提供することができます。
  

- 強靭性

  また、自動マーケットメーカープログラムは様々なクロスチェーン資産に対応しています。取引は無料かつ高速で、多数のユーザーに対応できるスケーラビリティを備えています。

### ステップ

- 分散型マルチシグネチャ組織

  マルチシグネチャ組織の仕事は、主にDappプログラムのアセット共同管理、レビュー、展開、ガバナンスなどに参加することです。複数の著名なチームや企業を束ねて分散型マルチシグネチャ組織を形成したり、暗号資産を発行して投票による分散型の自律組織を形成したりすることができます。例えば、5つのノードがある資産を共同管理する場合、資産を動かすには3つのノードの署名が必要である等の合意形成の設定などが可能です。合意形成の閾値は、`3/5`、`4/7`...`171/255`といったように、一般的にノードの3分の2を設定します。

- 自動マーケットメーカープログラムの開発

  1. 開発環境: Go、Java、PHPなどのプログラミング言語と、MySQL、PostgreSQL、MongoDBなどのデータベースシステムを扱える必要があります。
  2. トランザクション処理: ノードは、関連するUTXOトランザクションを継続的に同期させる必要があります。マーケットメイキング、取引、償還の各操作は、トランザクションの`Memo`に従って別々に処理されます。すべての操作は検証される必要があり、データはデータベースに記録されるために十分なノードによって署名される必要があります。また、すべての操作はMixinメインネットのマルチシグネチャを開始する必要があり、作成者、操作タイプ、金額、その他の情報を含むMemo情報は、以下のようなフォーマットになっています。（データを圧縮するためにMessagePack+base64を使うことが推奨されます）

  ```golang
  memo = base64.StdEncoding.EncodeToString(msgpack(OrderAction{
    T:"3596ab64-a575-39ad-964e-43b37f44e8cb",  // ID of the asset to be sold
    M:"c6d0c728-2624-429b-8e0d-d9d19b6592fa",  // Target Asset ID
    S:"43d61dcd-e413-450d-80b8-101d5e903357",  // Initiator
    M:"10",                                    // Amount
    T:"swap"                                   // Operation Type
  }))
  ```
  3. 資産管理: すべての資産は、ノードによるマルチシグネチャで管理されます。ユーザーが流動性のために入金した資産は、マルチシグネチャのアドレスに保存されます。償還は、ほとんどのノードがウォレットを検証した後に有効になります。

  4. LPトークン: ユーザーが注入した流動性の証明として、アルゴリズムに従ってERC20トークンを発行することができ、ユーザーはLPトークンを自由に譲渡・取引することができます。

- セキュリティ対策

  1. マルチシグネチャによる資産管理やコールドウォレットとホットウォレットの分離により、リスクへの対応力をさらに高めることができます。このような対策を行うことで、予測不可能なリスクによる損失規模を抑えることが可能です。

  2. すべてのノードは、潜在リスクを減らすために、独立してDappコードをレビューする必要があります。また、すべてのノードには資産管理に対する権利と義務があります。

  3. ノードを運営するチームは密に連絡を取り合う必要があります。問題が見つかれば、その時点でサービスを停止し、新しいコードをデプロイして迅速に問題を修正することができます。

- ガバナンス

  分散型マルチシグネチャ組織では、手数料や報酬などの提案を投票によって決定しています。

- 照合

  すべての送金には、改ざんできないマルチシグネチャの送金記録とMixin上の取引順序が対応するため、この送金記録をもとにすべてのデータを完全に復元し、ノードのデータと比較して検証することが可能です。

### 利用例

Foxチームが開発し、Mixin Core、Biyin、BIGONE、Fox、BOXの各コミュニティが共同で運営する「4swap」がローンチされました。5つのチームが共同で資産を管理し、自動マーケットメーカープログラムを運営・維持します。

- **使用言語** Go
- **データベース** MySQL
- **ローンチした日** 2020/12/25
- **ファンド規模** 12,734,286 USD (2021/01/01)
- **1日あたりの取引量** 500,000 USD (2021/01/01時点)
- **ノード数** 5
- **対応資産** マルチシグネチャに対応した全ての資産
- **使い方** Mixin Messenger内でMixin ID:`7000103537`を検索してください。


---
MTGリファレンスコード: https://github.com/MixinNetwork/trusted-group . テクニカルサポートへのお問い合わせは、[Mixin Messenger](https://w3c.group/c/1609251387450619)でMixin ID：`762532`を検索してください。

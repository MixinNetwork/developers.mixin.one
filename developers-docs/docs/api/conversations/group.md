---
title: Manage Groups
sidebar_position: 3
---

import {
  APIMetaPanel,
  APIRequest,
  APIEndpoint,
  APIParams,
  APIPayload,
} from "@site/src/components/api";

import RespConv from "@site/docs/_partials/_resp.conv.md";

## Update Group

### POST /conversations/:id

Updating here is mainly about group chats, such as updating group announcements, joining groups, exiting, muting, and other operations.

After the following operations are successful, complete conversation data will be returned, including group members.

<APIEndpoint url="/conversations/:id" />

<APIMetaPanel scope="Authorized" />

<APIParams p-id="The conversation's id." p-id-required={true} />

<APIPayload>{`{
  "name":         "New group name, 512 characters at most.",
  "announcement": "Group Announcements, 1024 characters at most.",
}
`}</APIPayload>

:::info
Every time the field is updated, all group members can see an eye-catching group announcement reminder bar.
:::

<APIRequest
  title="Update Conversation info by ID"
  method="POST"
  url="/conversations/928c5c40-769c-3e97-8387-fb1ae0645311 --data PAYLOAD"
/>

<RespConv />

## Manage Group Member

### POST /conversations/:code_id/join

Join the group via link. The `code_id` is an ID to join the current group, which is returned by `GET /conversation/:id` and generated by `POST /conversations/:id/rotate`.

### POST /conversations/:id/participants/ADD

If you are the owner or admin of this group conversation, you can add other users to the group by calling this API.

the payload:

```json
[
  { "user_id": "" },
  ...
]
```

### POST /conversations/:id/participants/REMOVE

If you are the owner or admin of this group conversation, you can remove a member from the group.

the payload:

```json
[
  { "user_id": "" },
  ...
]
```

### POST /conversations/:id/rotate

Reset invitation link and `code_id`.

### POST /conversations/:id/exit

Leave the current group.

## Manage Administrators

Only the owners can set or cancel administrators

### POST /conversations/:id/participants/ROLE

Set or revoke admin privileges for a user.

The request body of setting admin privileges:

```json
[{ "user_id": "", "role": "ADMIN" }]
```

The request body of remove admin privileges:

```json
[{ "user_id": "", "role": "" }]
```

## Mute Group

Muted conversations will still receive messages, but without notifications.

### POST /conversations/:id/mute

Request body data:

| Parameter    |  Type  | Description                                                                                                         |
| :----------- | :----: | :------------------------------------------------------------------------------------------------------------------ |
| duration     | Int64  | In seconds, setting to 0 means unmute, other values means mute time, for example, setting 28,800 means mute 8 hours |

Before mute a group or user, the conversation should be created first, otherwise 403 error will be returned.

### POST /conversations/:id/disappear

Request body data:

| Parameter    |  Type  | Description                  |
| :----------- | :----: |:-----------------------------|
| duration     | Int64  | In seconds, maximum 12 weeks |

Disappearing message, can be set by managers only.

Rules, take 30s as an example:

1. If the message has been read, it would be deleted in 30s.
2. If the message is never read, it would be deleted in 24h + 30s.
